* Basic Selections

These are just some basic selection queries that can be used to get some very
general information about the selections in the database.

#+name: lob-ingest
#+BEGIN_SRC elisp
(org-babel-lob-ingest "basic_select.org");
#+END_SRC


#+name: select_of_type_query_only
#+BEGIN_SRC sparql :no-tangle
select ?s WHERE {
  ?s a ?type.
} limit ?limit
#+END_SRC

#+name: select_of_type
#+BEGIN_SRC sparql :noweb yes :var type="ucdrp:person" limit="5"
<<prefixes>>
<<select_of_type_query_only>>
#+END_SRC

#+call: select_of_type(type="ucdrp:authorship")


** basic_select.ttl

#+BEGIN_SRC ttl :noweb yes :tangle basic_select.ttl
    <<prefixes>>

    q:type
        a aeq:Bind ;
        rdfs:label "A Class in the domain of rdf:type" ;
        aeq:bind_to "?type" ;
        aeq:bind_type xsd:uri ;
        .


    q:select_of_type
        rdf:type  aeq:SelectQuery, aeq:Query;
        rdfs:label "Select of Type" ;
        rdfs:description """

  The select_of_type is just meant to give a few examples of objects that are of a
  specific type (default ucrdp:person) in the database.  Only the subject of the
  statement is returned.

    """ ;
        aeq:parameter [
            aeq:bind q:type ;
            aeq:required true ;
            aeq:bind_default ucdrp:person ;
            ] ;
       aeq:query """
      <<select_of_type_query_only>>
    """ ;
        .

#+END_SRC
